(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{4893:(e,t,a)=>{Promise.resolve().then(a.bind(a,3493))},3493:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var s=a(5155),r=a(2115),n=a(4085),l=a(2336),i=a(5785),o=a(1092),d=a(9602);let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.bL,{className:(0,d.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,s.jsx)(o.zi,{className:(0,d.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});c.displayName=o.bL.displayName;var u=a(8622),f=a(689);let p=u.bL;u.l9;let m=u.ZL;u.bm;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(u.hJ,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});x.displayName=u.hJ.displayName;let h=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(m,{children:[(0,s.jsx)(x,{}),(0,s.jsxs)(u.UC,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[r,(0,s.jsxs)(u.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(f.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=u.UC.displayName;let g=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};g.displayName="DialogHeader";let v=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};v.displayName="DialogFooter";let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(u.hE,{ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});b.displayName=u.hE.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(u.VY,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...r})}).displayName=u.VY.displayName;var y=a(6248),j=a(6046);let N=e=>{let{isOpen:t,setIsOpen:a,setProfilePic:l}=e,[i,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(null);(0,j.useRouter)();let{user:u}=(0,y.k)();return(0,s.jsx)(p,{open:t,onOpenChange:a,children:(0,s.jsxs)(h,{children:[(0,s.jsx)(g,{children:(0,s.jsx)(b,{children:"Upload Profile Picture"})}),d&&(0,s.jsx)("img",{src:URL.createObjectURL(d),alt:"Preview",className:"w-32 h-32 rounded-full"}),(0,s.jsx)("input",{type:"file",accept:"image/*",disabled:i}),(0,s.jsxs)(v,{children:[(0,s.jsx)(n.$,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancel"}),(0,s.jsx)(n.$,{disabled:i||!d,children:i?"Uploading...":"Upload"})]})]})})};var w=a(3898),k=a(1473);let S=e=>{let{isOpen:t,setIsOpen:a,profilePic:r}=e;return(0,s.jsx)(p,{open:t,onOpenChange:a,children:(0,s.jsxs)(h,{className:"w-fit-content",children:[(0,s.jsx)(g,{children:(0,s.jsx)(b,{children:"Profile Picture"})}),(0,s.jsx)("div",{className:"flex justify-center",children:r&&(0,s.jsx)("img",{src:r,alt:"Enlarged Profile Pic",className:"w-full h-full object-contain"})}),(0,s.jsx)(v,{children:(0,s.jsx)(n.$,{onClick:()=>a(!1),children:"Close"})})]})})};var _=a(2651),E=a(241);function O(){let[e,t]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[d,u]=(0,r.useState)(!0),[f,p]=(0,r.useState)(null),[m,x]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),{user:v}=(0,y.k)();(0,r.useEffect)(()=>{(null==v?void 0:v.name)&&t(null==v?void 0:v.name),(null==v?void 0:v.email)&&o(null==v?void 0:v.email),(null==v?void 0:v.profilePic)&&p(null==v?void 0:v.profilePic)},[v]);let b=async t=>{t.preventDefault();let s={name:e,email:a,userId:null==v?void 0:v.id};try{let e=await _.A.put("".concat("http://13.235.69.86:5000/api","/user/").concat(null==v?void 0:v.id),{updatedData:s});if(!e.data.success)throw(0,E.oR)({variant:"destructive",title:"Updated Failed",description:e.data.message}),Error("Failed to update settings");(0,E.oR)({title:"Settings Updated",description:e.data.message}),console.log("Settings updated:",e.data)}catch(e){console.error("Error updating settings:",e)}},j=(0,r.useMemo)(()=>f?"".concat(f,"?t=").concat(new Date().getTime()):"",[f]);return(0,s.jsxs)("div",{className:"max-w-2xl",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Settings"}),(0,s.jsx)(N,{isOpen:m,setIsOpen:x,setProfilePic:p}),(0,s.jsx)(S,{isOpen:h,setIsOpen:g,profilePic:f}),(0,s.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,s.jsxs)("div",{className:" flex justify-center items-center flex-col gap-3",children:[(0,s.jsxs)(w.Avatar,{onClick:()=>g(!0),className:" cursor-pointer font-bold text-black size-[300px] bg-gray-300 flex justify-center items-center",children:[(0,s.jsx)(k.BK,{alt:(null==v?void 0:v.name)+"'s profile pic",src:j||""}),(0,s.jsx)(k.q5,{className:"text-4xl",children:v&&v.name&&(null==v?void 0:v.name[0].toUpperCase())})]}),(0,s.jsx)(n.$,{className:"w-fit",onClick:()=>x(!0),children:"Change Profile Picture"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.J,{htmlFor:"name",children:"Name"}),(0,s.jsx)(l.p,{id:"name",value:e,onChange:e=>t(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.J,{htmlFor:"email",children:"Email"}),(0,s.jsx)(l.p,{id:"email",type:"email",value:a,onChange:e=>o(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c,{id:"notifications",checked:d,onCheckedChange:u}),(0,s.jsx)(i.J,{htmlFor:"notifications",children:"Enable notifications"})]}),(0,s.jsx)(n.$,{type:"submit",children:"Save Changes"})]})]})}},3898:(e,t,a)=>{"use strict";a.d(t,{Avatar:()=>i,AvatarFallback:()=>d,AvatarImage:()=>o});var s=a(5155),r=a(2115),n=a(1473),l=a(9602);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});i.displayName=n.bL.displayName;let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",a),...r})});o.displayName=n._V.displayName;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});d.displayName=n.H4.displayName},4085:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var s=a(5155),r=a(2115),n=a(2317),l=a(1027),i=a(9602);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:r,size:l,className:a})),ref:t,...c})});d.displayName="Button"},2336:(e,t,a)=>{"use strict";a.d(t,{p:()=>u});var s=a(698),r=a(5155),n=a(2115),l=a(9602),i=a(4420),o=a(186),d=a(5381);function c(){let e=(0,s._)(["\n        radial-gradient(\n          "," circle at ","px ","px,\n          var(--blue-500),\n          transparent 80%\n        )\n      "]);return c=function(){return e},e}let u=n.forwardRef((e,t)=>{let{className:a,type:s,...u}=e,[f,p]=n.useState(!1),m=(0,i.d)(0),x=(0,i.d)(0);return(0,r.jsx)(o.P.div,{style:{background:(0,d.E)(c(),f?"100px":"0px",m,x)},onMouseMove:function(e){let{currentTarget:t,clientX:a,clientY:s}=e,{left:r,top:n}=t.getBoundingClientRect();m.set(a-r),x.set(s-n)},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),className:"p-[2px] rounded-lg transition duration-300 group/input",children:(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full border-none bg-gray-50 dark:bg-zinc-800 text-black dark:text-white shadow-input rounded-md px-3 py-2 text-sm  file:border-0 file:bg-transparent \n          file:text-sm file:font-medium placeholder:text-neutral-400 dark:placeholder-text-neutral-600 \n          focus-visible:outline-none focus-visible:ring-[2px]  focus-visible:ring-neutral-400 dark:focus-visible:ring-neutral-600\n           disabled:cursor-not-allowed disabled:opacity-50\n           dark:shadow-[0px_0px_1px_1px_var(--neutral-700)]\n           group-hover/input:shadow-none transition duration-400\n           ",a),ref:t,...u})})});u.displayName="Input"},5785:(e,t,a)=>{"use strict";a.d(t,{J:()=>i});var s=a(5155),r=a(2115),n=a(6195),l=a(9602);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,l.cn)("text-sm font-medium text-black dark:text-white leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...r})});i.displayName=n.b.displayName},241:(e,t,a)=>{"use strict";a.d(t,{dj:()=>f,oR:()=>u});var s=a(2115);let r=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=s.useState(d);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9602:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(3463),r=a(9795);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},6248:(e,t,a)=>{"use strict";a.d(t,{k:()=>s});let s=(0,a(9827).v)(e=>({user:null,loadUser:()=>{let t=localStorage.getItem("user");t&&e({user:JSON.parse(t)})},setUser:t=>{localStorage.setItem("user",JSON.stringify(t)),e({user:t})},clearUser:()=>{localStorage.removeItem("user"),e({user:null})}}))}},e=>{var t=t=>e(e.s=t);e.O(0,[440,479,607,651,941,441,517,358],()=>t(4893)),_N_E=e.O()}]);